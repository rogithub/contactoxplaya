<!DOCTYPE html>
<html>
<head>
    <title>Material Didáctico</title>
    <link rel="stylesheet" href="css/public.css?v=1.0" />
</head>
<body>
    <h1>Material Didáctico - PDFs</h1>
    <div id="pdf-list">Cargando PDFs...</div>

    <script>
        async function loadPDFs() {
            try {
                const response = await fetch('https://cntnt.xplaya.com/material-didactico');
                const data = await response.json();
                
                const pdfList = document.getElementById('pdf-list');
                pdfList.innerHTML = '';
                
                data.objects.forEach(pdf => {
                    const pdfItem = document.createElement('div');
                    pdfItem.className = 'pdf-item';
                    
                    const pdfUrl = `https://cntnt.xplaya.com/material-didactico/${encodeURIComponent(pdf.name)}`;
                    const sizeMB = (pdf.size / (1024 * 1024)).toFixed(2);
                    
                    pdfItem.innerHTML = `
                        <a class="pdf-link" href="${pdfUrl}" target="_blank">
                            ${pdf.name}
                        </a>
                        <div class="pdf-size">${sizeMB} MB</div>
                    `;
                    
                    pdfList.appendChild(pdfItem);
                });
            } catch (error) {
                document.getElementById('pdf-list').innerHTML = 'Error cargando PDFs';
            }
        }
        
        loadPDFs();
    </script>
</body>
</html>